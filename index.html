<html>
<head>
    <title>Nitrates and Cancer</title>
    <script type= "text/javascript" src = "assets/js/lib/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" href="assets/css/main.css">
    <script src="https://kit.fontawesome.com/16a3dc2bcb.js"></script>

</head>
    <body>
        <div class="container">
            <div id=" panelBackground"></div>
            <div id="panel">
                <div class="row" id="title">
                    <h2 id="titleText">Nitrates and Cancer</h2>
                </div>
                <div class="row">
                    <div class="popup">
                        <h5>Interpolation <i id="interpolationTip" class="far fa-question-circle"></i></h5>
                        <span class="popuptext" id="interpolatePopup">Spatial interpolation is the process of deriving values from existing measurements for areas where no measurement was taken.
                            IDW Stands for inverse distance weighted and is a method of spatial interpolation where values are calculated based on weights that are proportional to the inverse of the distance between the measurements.
                            The exponent and cell size variables control how the values are weighted and the output layer size respectively.</span>
                    </div>

                    <label for="exponent">IDW Exponent</label>
                    <input type="number" value="1" id="exponent" min="1"/>
                    <label for="cellSize">Cell Size</label>
                    <input type="number" value="5" id="cellSize" min="1"/>
                    <div class="controls">
                        <button id = "interpolate" class="buttonload btn btn-primary btn-block">
                            <i id = "loader" class="fa fa-circle-o-notch fa-spin"></i> Interpolate
                        </button>
                        <button id="removeInterpolate" class="btn-warning btn btn-block">Remove</button>
                    </div>
                </div>

                <div class="row">

                    <div class="popup">
                        <h5>Regression <i id="regressionTip" class="far fa-question-circle"></i></h5>
                        <span class="popuptext" id="regressionPopup">A Linear regression is a method of determining how two variables relate to one another.
                        The result is expressed as a line of best fit in the form y = mx + b. Based on the interpolated layer and the cancer rate, the slope
                        and the Y-intercept of the line of best fit can be used to predict the cancer rate from the nitrate level. </span>
                    </div>

                    <div class="controls">
                        <button disabled id="calculate" class="btn btn-primary btn-block">
                            <i id = "regressionLoader" class="fa fa-circle-o-notch fa-spin"></i> Calculate Regression
                        </button>
                    </div>

                    <!--<button id="removeCancer">Remove</button>-->
                </div>

                <div class="row" id = "results" hidden="true">
                    <p>Slope: <span id="slope"></span></p>
                    <p>Y-Intersect: <span id="intersect"></span></p>
                </div>

                <div class="row">

                    <div class="popup">
                        <h5 id="errorTitle">Error <i id="errorTip" class="far fa-question-circle"></i></h5>
                        <span class="popuptext" id="errorPopup">The error level is a measure of residuals between the calculated cancer rate and the observed cancer rate.
                        The higher the residual, the less accurate the regression line of best fit is for an area.</span>
                    </div>

                    <div class="controls">
                        <button disabled id = "errorButton" class="buttonload btn btn-primary btn-block">
                            <i id = "errorLoader" class="fa fa-circle-o-notch fa-spin"></i> Calculate Error
                        </button>
                    </div>
                </div>

            </div>

            <div id="map"></div>

        </div>




        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" ></script>
        <script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>
        <script src='https://unpkg.com/simple-statistics@7.0.2/dist/simple-statistics.min.js'></script>
        <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl.js'></script>
        <script type= "text/javascript" src = "assets/js/main.js"></script>
    </body>
</html>
